## 卷积神经网络

1. Padding&Stride

   一般情况下，在经过卷积的扫描之后。得到的形状或小于之前的形状。

   例如：[b, 32, 32, 1]扫描之后是[b, 28, 28 1]。如果想进过卷积扫描之后还是[b, 32, 32, 1]。就需要`padding`，想把原来的图片padding大一点，例如[b, 32, 32, 1]$\to$[b, 34, 34, 1]，然后在卷积之后变为[b, 32, 32, 1]。如果要降维，可以`Stride`改变步长。

   ![image-20200206144145647](/Users/liz/Library/Application Support/typora-user-images/image-20200206144145647.png)

2. Channels

   多通道输入，多通道输出。

   ![image-20200206144709843](/Users/liz/Library/Application Support/typora-user-images/image-20200206144709843.png)

---

#### Conv2D

- layers.Conv2D
  - `layers.Conv2D(4, kernel_size=5, strides=1, padding='valid')`
    - 4是N，就是有多少个卷积核。
    - kernel_size是映射窗口大小，也就是滤波器的形状。
    - strides是步长，strides=2会把输出的shape减半
    - padding='valid'是不padding，padding='same'是需要padding

- tf.nn.conv2d

  - `tf.nn.conv2d(x, w, strides=1, padding='VALID')`

    这个 方式我们可以自己管理w和b。

    ![](https://tva1.sinaimg.cn/large/006tNbRwly1gbmw55xv76j31140ledm4.jpg)

    [5, 5, 3, 4]的格式是[5, 5, c, N]5是weight(滤波器)的大小，c是输入的channel(input_channel)，N是输出的channel(output_channel)。

​      



