### 合并与分割

#### Outline

- tf.concat
- tf.split
- tf.stack
- tf.unstack

#### Content

1. 拼接
    将两个矩阵合并，`tf.concat([a,b], axis=0)`，axis表示拼接的纬度。
    需要满足一定条件，拼接的纬度可以不等，但是非拼接纬度需要相等。
    
    ```python
    a = tf.ones([4,35,8])
    b = tf.ones([2,35,8])
    c = tf.concat([a, b], axis=0)
    c.shape
# TensorShape([6,35,8])
    
    a = tf.ones([4,32,8])
    b = tf.ones([4,3,8])
    tf.concat([a,b], axis=).shape
    # TensorShape([4, 35, 8])
    ```
2. 创造一个新的纬度，`tf.stack([a,b], axis=)`，所有纬度必须相等。
    ```python
    a = tf.ones([4,35,8])
    b = tf.ones([4,35,8])

    tf.stack([a,b], axis=3).shape
    # TensorShape([4,35,8,2])
    ```
3. 拆解

    - `tf.unstack(c, axis=0)`，拆解的个数与需要拆解纬度的数字有关。需要拆解纬度的数字是多少，就会拆出多少个子tensor。
        ```python
        c.shape
        # TensorShape([2,4,35,8])
        aa, bb = tf.unstack(c,axis=0)
        aa.shape, bb.shape
        # TensorShape([4,35,8])
        ```
    - `tf.split(c, axis=3, num_or_size_splits=2)`
        ```python
        c.shape
        # TensorShape([2,4,35,8])
        res = tf.split(c, axis=3, num_or_size_splits=2)  # 这种情况默认均分为两个，res是一个列表
        len(res)
        # 2

        res = tf.split(c, axis=3, unm_or_size_splits=[2,2,4])  # 打散为3个，第三纬度分别是2,2,4
        res[0].shape, res[2].shape
        # (TensorShape([2,4,35,2]), TensorShape([2,4,35,4]))
        ```


