

#### Tensorflow数据统计

- tf.norm(范数)

  范数：具有长度概念的函数

  ​			1-范数：$||x||_1=|x_1|+|x_2|+...+|x_n|$

  ​			2-范数：$||x||_2=\sqrt{(|x_1|^2+|x_2|^2+...+|x_n|^2)}$

  若没有指定维度，二范数是对tensor每一个元素求平方和，然后再开方

  ```python
  tf.norm(a, ord=2, axis=1)  # ord表示第几范数，axis表示在哪个维度上进行
  
  In [2]: b = tf.ones([2,2])
    
  In [4]: tf.norm(b, ord=2, axis=1)
  Out[4]: <tf.Tensor: shape=(2,), dtype=float32, numpy=array([1.4142135, 1.4142135], dtype=float32)>
  
  In [5]: tf.norm(b, ord=1, axis=0)
  Out[5]: <tf.Tensor: shape=(2,), dtype=float32, numpy=array([2., 2.], dtype=float32)>
  
  ```

  

  

- tf.reduce_min/max/mean

  求tensor的最大值，最小值，平均值；同时也可求每一列或每一行的最大值和最小值等。只需要添加axis参数即可

  例如：tf.reduce_min(a, axis=0)求第一列的axis为0求每一列，为1求每一行

  

- tf.argmax/argmin

  返回最大最小值的位置，默认是求axis=0，求每一列的最大最小值

- tf.equal

  比较两个tensor是否相等，返回一个`True`和`False`的列表；也可以通过如下方式转为0,1的列表：

  ```python
  res = tf.equal(a, b)
  tf.cast(res, dytpe=tf.int32)
  # 下面方法是统计正确的个数
  tf.reduce_sum(tf.cast(res, dytpe=tf.int32))
  ```

  

- tf.unique

  去掉重复值，获得去重后的元素列表和之前元素的索引。可以通过这个索引求得在unique之前的tensor

  

#### Tensorflow的排序

- Sort/argsort
  `tf.sort(a, direction='DESCENDING')`用于排序,默认为升序，DESCENDING为降序

  tf.argsort(a, direction='DESCENDING')用于返回降序或者升序对应值的序列号，DESCENDING为降序

- Topk

  `tf.math.top_k(a,2)`返回最大的前两个值的元组，一个是`values`最大的前几个值，一个是`indices`最大前几个值的索引

  ```
  res = tf.math.top_k(a,2)  
  In [38]: res.indices                                                                            
  Out[38]: 
  <tf.Tensor: id=331, shape=(3, 2), dtype=int32, numpy=
  array([[1, 0],
         [0, 1],
         [2, 0]], dtype=int32)>
  
  In [39]: res.values                                                                             
  Out[39]: 
  <tf.Tensor: id=330, shape=(3, 2), dtype=int32, numpy=
  array([[6, 4],
         [4, 0],
         [7, 6]], dtype=int32)>
  ```

  

- Top-5 Acc.

  top5的准确性

